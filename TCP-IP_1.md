#第一章 概述

##TCP/IP的分层

> ISO-OSI的 **七** 层协议经典架构:(从下往上)<br>
> 【物理层】 【数据链路层】 【网络层】 【传输层】 【会话层】 【表示层】 【应用层】

> ISO **五** 层协议<br>
> 【物理层】 【数据链路层】 【网络层】 【传输层】                       【应用层】

> ISO **四** 层协议<br>
>            【数据链路层】 【网络层】 【传输层】                       【应用层】

###第一层 物理层
> 这层主要和硬件有关，与软件关系不大。

**机械性能：**接口的型状，尺寸的大小，引脚的数目和排列方式等。<br>
**电气性能：**接口规定信号的电压、电流、阻抗、波形、速率及平衡特性等。<br>
**工程规范：**接口引脚的意义、特性、标准。<br>
**工作方式：**确定数据位流的传输方式，如：单工、半双工或全双工。<br>

**物理层协议有：**
美国电子工业协会(EIA)的RS232，RS422，RS423，RS485等；
国际电报电话咨询委员会(CCITT)的X.25、X.21等；
物理层的数据单位是位(BIT)，典型设备是集线器HUB。


###第二层 链路层
> 设备驱动程序及接口卡<br>
> 链路层屏蔽传输介质的物理特征，使数据可靠传输--内容包括：介质的访问控制、连接控制、顺序控制、流量控制、差错控制和仲裁协议等。<br>
> 链路层数据单位是 **帧** ，实现对MAC地址的访问，典型设备是交换机Switch

**链路层协议有：**
*面向字符的通讯协议（ppp）* 和 *面向位的通讯协议（HDLC）* 。<br>
仲裁协议：802.3、802.4、802.5，即：
 CSMA/CD(Carrier Sense Multiple Access with Collision Detection)、Token Bus、Token Ring


###第三层 网络层
> IP（网际协议）、ICMP（Internet互联网控制报文协议）和IGMP（Internet组管理协议）<br>
> 网络层管理连接方式和路由选择<br>
> 网络层的数据单位是包，使用的是IP地址，典型的设备的路由器Router

**连接方式：**虚电路（Virtual Circuits）和数据表（Datagram）服务<br>
虚电路是面向连接的(Connection-Oriented)，数据通讯一次路由，通过会话建立的一条通路。
数据报是非连接的(Connectionless-Oriented)，每个数据报都有路由能力。

###第四层 传输层
> 提供端到端的服务。可以实现流量控制和负载均衡<br>
> 传输层信息包含端口、控制字和检验和<br>
> 传输层位于OSI的第四层，这层使用的设备是主机本身

**传输层协议有：**
*TCP（传输控制协议）和UDP（用户数据报协议）*


###第五层 会话层
> 会话层主要内容是通过会话进行身份验证、会话管理和确定通讯方式，一旦建立连接，会话层的任务就是管理会话。

###第六层 表示层
> 表示层主要是解释通讯数据的意义，如代码转换、格式变换等，使不同的终端可以表示。还包括加密与解密、压缩与解压缩等。

###第七层 应用层
> 应用层应该是直接面向用户的程序或服务，包括系统程序和用户程序<br>
> 例如：www、FTP、DNS、POP3、SMTP等都是应用层服务 Telnet、email


###总结
1. 数据在发送时是数据从应用层至物理层的一个打包过程
2. 接收时是数据从物理层至应用层的一个解包过程
3. 从功能角度分为三组：1、2层解决网络信道问题  3、4层解决传输问题  5、6、7层处理对应用进程的访问
4. 从控制角度分为二组：1、2、3层是通信子网层   4、5、6、7是主机控制层
5. 第一层可以进行流量控制，但是流量控制更多的是使用第二次或者第四层

##基本概念
1. ip地址：互联网上的每个接口必须有一个唯一的Internet地址（也称作IP地址）。IP地址长32Bit。

> A类： 0     + 7位网络号 + 24位主机号<br>
> B类： 10    + 14位网络号 + 16位主机号<br>
> C类： 110   + 21位网络号 + 8位主机号<br>
> D类： 1110  + 28位多播组号<br>
> E类： 11110 + 27位（留待后用）<br>

2. 域名系统

> 在TCP/IP领域中，域名系统（DNS）是一个分布的数据库，由他来提供IP地址和主机名之间的映射信息

3. 封装

> 当应用程序用TCP传送数据时，数据被送入协议栈中，然后逐个通过每一层直到被当做一串比特流送入网络。其中每一层对收到的数据都要增加一些首部信息（有时还要增加尾部信息）<br>
> 由于TCP、UDP、ICMP、IGMP都要向IP传送数据，因此IP必须在生成的IP首部中加入某种标识。<br>
> 1表示ICMP协议<br>
> 2表示IGMP协议<br>
> 6表示TCP协议<br>
> 17表示为UDP协议<br>

4. 分用
5. 客户-服务器模型
6. 端口号
